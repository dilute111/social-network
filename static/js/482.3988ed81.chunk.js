"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[482],{482:(s,t,e)=>{e.r(t),e.d(t,{default:()=>y});var a=e(43),o=e(813);const r="ProfileInfo_descriptionBlock__AnwTh",i="ProfileInfo_coverImg__o5WzT",u="ProfileInfo_profileStatus__Gsp+H";var n=e(586),p=e(314),l=e(579);const d=s=>{const[t,e]=(0,a.useState)(!1),[o,r]=(0,a.useState)(s.status);(0,a.useEffect)((()=>{s.status!==o&&r(s.status)}),[s.status]);return(0,l.jsx)("div",{children:t?(0,l.jsx)("div",{children:(0,l.jsx)("input",{onChange:s=>{r(s.currentTarget.value)},onBlur:()=>{e(!1),s.updateStatus(o)},autoFocus:!0,value:o})}):(0,l.jsx)("div",{children:(0,l.jsx)("span",{onDoubleClick:()=>{e(!0)},children:s.status||"------"})})})},c=s=>{let{profile:t,status:e,updateStatus:a}=s;return t?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{children:(0,l.jsx)("img",{className:i,src:o.Bh,alt:"logo"})}),(0,l.jsxs)("div",{className:r,children:[t&&t.photos?(0,l.jsx)("img",{src:t.photos.large||p,alt:""}):(0,l.jsx)(n.A,{}),(0,l.jsx)("div",{className:u,children:(0,l.jsx)(d,{status:e,updateStatus:a})})]})]}):(0,l.jsx)(n.A,{})};var h=e(977);const x="MyPosts_item__220WX",j="MyPosts_posts__qFwQp",m="Post_content__xUVaM",g="Post_item__xe6sQ",f=s=>(0,l.jsx)("div",{className:g,children:(0,l.jsxs)("div",{className:m,children:[(0,l.jsx)("img",{src:s.image,alt:""}),(0,l.jsxs)("span",{children:[" ",s.message," "]}),(0,l.jsx)("div",{children:(0,l.jsxs)("span",{children:[" Like ",s.likes," "]})})]})});var P=e(785);const v=s=>(0,l.jsx)(P.c3,{onAddPost:s.onAddPost}),_=a.memo((s=>{const t=[...s.posts].reverse().map((s=>(0,l.jsx)(f,{image:o.my,message:s.message,likes:s.likesCount})));return(0,l.jsxs)("div",{className:x,children:[(0,l.jsx)("h3",{children:"My posts"}),(0,l.jsx)(v,{onAddPost:t=>{s.updateNewPostText(t),s.addPost(t)}}),(0,l.jsx)("div",{className:j,children:t})]})}));var S=e(3);const A=(0,S.Ng)((s=>({posts:s.profilePage.p,newPostText:s.profilePage.newPostText,users:s.usersPage.users})),(s=>({updateNewPostText:t=>{let e=(0,h.uJ)(t);s(e)},addPost:t=>{s((0,h.oL)(t))}})))(_),N=s=>(0,l.jsxs)("div",{children:[(0,l.jsx)(c,{profile:s.profile,status:s.status,updateStatus:s.updateStatus}),(0,l.jsx)(A,{})]});var k=e(906),I=e(947),z=e(923);class w extends a.Component{componentDidMount(){console.log("PARAMS",this.props.params),console.log("Authorized User ID:",this.props.authorizedUserId);let s=this.props.params.userId||this.props.authorizedUserId;this.props.getUserProfile(s),this.props.getStatus(s)}render(){return(0,l.jsx)(N,{...this.props,profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus})}}const y=(0,z.Zz)((0,S.Ng)((s=>({profile:s.profilePage.profile,status:s.profilePage.status,authorizedUserId:s.auth.userId,isAuthorized:s.auth.isAuthorized})),{getUserProfile:h.VM,getStatus:h.BS,updateStatus:h.yB}),(function(s){return t=>{const e=(0,k.Zp)(),a=(0,k.g)(),o=(0,k.zy)();return(0,l.jsx)(s,{...t,navigate:e,params:a,location:o})}}),I.A)(w)}}]);
//# sourceMappingURL=482.3988ed81.chunk.js.map
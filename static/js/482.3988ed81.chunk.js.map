{"version":3,"file":"static/js/482.3988ed81.chunk.js","mappings":"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","sources":["webpack://my-app/./src/components/ProfilePage/ProfileInfo/ProfileInfo.module.css?3767","components/ProfilePage/ProfileStatus/ProfileStatusWithHooks.jsx","components/ProfilePage/ProfileInfo/ProfileInfo.jsx","webpack://my-app/./src/components/ProfilePage/MyPosts/MyPosts.module.css?e958","webpack://my-app/./src/components/ProfilePage/MyPosts/Post.module.css?9c71","components/ProfilePage/MyPosts/Post.jsx","components/ProfilePage/MyPosts/MyPosts.jsx","components/ProfilePage/MyPosts/MyPostsContainer.jsx","components/ProfilePage/ProfilePage.jsx","components/ProfilePage/ProfilePageContainer.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"descriptionBlock\":\"ProfileInfo_descriptionBlock__AnwTh\",\"coverImg\":\"ProfileInfo_coverImg__o5WzT\",\"profileStatus\":\"ProfileInfo_profileStatus__Gsp+H\"};","import React, {useEffect, useState} from 'react';\r\n\r\nconst ProfileStatusWithHooks = (props) => {\r\n\r\n    const [editMode, setEditMode] = useState(false)\r\n    const [status, setStatus] = useState(props.status)\r\n\r\n    useEffect(() => {\r\n        if (props.status !== status) {\r\n            setStatus(props.status);\r\n        }\r\n    }, [props.status])\r\n\r\n    const activateEditMode = () => {\r\n        setEditMode(true)\r\n    }\r\n    const deactivateEditMode = () => {\r\n        setEditMode(false)\r\n        props.updateStatus(status)\r\n    }\r\n    const onStatusChange = (e) => {\r\n        setStatus(e.currentTarget.value)\r\n    }\r\n\r\n\r\n    return (\r\n        <div>\r\n            {!editMode ? (\r\n                <div>\r\n                    <span onDoubleClick={activateEditMode}>{props.status || \"------\"}</span>\r\n                </div>) : (\r\n                <div>\r\n                    <input onChange={onStatusChange} onBlur={deactivateEditMode} autoFocus={true}\r\n                           value={status}/>\r\n                </div>)}\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\nexport default ProfileStatusWithHooks;","import React from 'react';\r\nimport {beachImg} from \"../../../App\";\r\nimport classes from \"./ProfileInfo.module.css\"\r\nimport Preloader from \"../../common/Preloader/Preloader\";\r\nimport userPhoto from \"../../../assets/images/user.png\"\r\nimport ProfileStatusWithHooks from \"../ProfileStatus/ProfileStatusWithHooks\";\r\n\r\nconst ProfileInfo = ({profile, status, updateStatus}) => {\r\n    if (!profile) {\r\n        return <Preloader />;\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <div>\r\n                <img className={classes.coverImg} src={beachImg} alt=\"logo\"/>\r\n            </div>\r\n            <div className={classes.descriptionBlock}>\r\n                {profile && profile.photos? (\r\n                <img src={profile.photos.large || userPhoto} alt=\"\"/>\r\n                    ) : (\r\n                        <Preloader />\r\n                )}\r\n                <div className={classes.profileStatus}>\r\n                <ProfileStatusWithHooks status={status} updateStatus={updateStatus}/>\r\n                </div>\r\n\r\n            </div>\r\n        </>\r\n    )\r\n        ;\r\n};\r\n\r\nexport default ProfileInfo;","// extracted by mini-css-extract-plugin\nexport default {\"item\":\"MyPosts_item__220WX\",\"textBlock\":\"MyPosts_textBlock__LMlMR\",\"posts\":\"MyPosts_posts__qFwQp\",\"error\":\"MyPosts_error__4HT5D\",\"errorMessage\":\"MyPosts_errorMessage__ADAmv\"};","// extracted by mini-css-extract-plugin\nexport default {\"content\":\"Post_content__xUVaM\",\"item\":\"Post_item__xe6sQ\"};","import React from 'react';\r\nimport classes from \"./Post.module.css\";\r\n\r\nconst Post = (props) => {\r\n    return (\r\n\r\n            <div className={classes.item}>\r\n                <div className={classes.content}>\r\n                    <img  src={props.image} alt=\"\" />\r\n                    <span> { props.message } </span>\r\n                    <div>\r\n                    <span> Like { props.likes } </span>\r\n                    </div>\r\n                </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Post;","import React from 'react';\r\nimport classes from \"./MyPosts.module.css\";\r\nimport Post from \"./Post\";\r\nimport {avatar} from \"../../../App\";\r\nimport {MyPostsStock} from \"../../common/FormsControls/FormsControls\";\r\n\r\n\r\nconst MyPostsForm = (props) => {\r\n\r\n    return (\r\n        <MyPostsStock onAddPost={props.onAddPost} />\r\n    )\r\n}\r\n\r\nconst MyPosts = React.memo((props) => {\r\n\r\n    const postsData =\r\n        [...props.posts]\r\n            .reverse()\r\n            .map(e => <Post image={avatar} message={e.message} likes={e.likesCount}/>)\r\n\r\n    const onAddPost = (text) => {\r\n        props.updateNewPostText(text); // Обновляем текст\r\n        props.addPost(text); // Отправляем пост\r\n    };\r\n\r\n    return (\r\n        <div className={classes.item}>\r\n            <h3>My posts</h3>\r\n            <MyPostsForm onAddPost={onAddPost}/>\r\n            <div className={classes.posts}>{postsData}</div>\r\n        </div>\r\n    );\r\n})\r\n\r\nexport default MyPosts;","import React from 'react';\r\nimport {addPostActionCreator, updateNewPostActionCreator} from \"../../../redux/profile-reducer\";\r\nimport MyPosts from \"./MyPosts\";\r\nimport {connect} from \"react-redux\";\r\n\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        posts: state.profilePage.p,\r\n        newPostText: state.profilePage.newPostText,\r\n        users: state.usersPage.users,\r\n    }\r\n}\r\nconst mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        updateNewPostText: (text) => {\r\n            let action = updateNewPostActionCreator(text)\r\n            dispatch(action)\r\n        },\r\n        addPost: (text) => {\r\n            dispatch(addPostActionCreator(text))\r\n        },\r\n    }\r\n}\r\n\r\nconst MyPostsContainer = connect(mapStateToProps, mapDispatchToProps)(MyPosts)\r\n\r\nexport default MyPostsContainer;","import React from 'react';\r\nimport ProfileInfo from \"./ProfileInfo/ProfileInfo\";\r\nimport MyPostsContainer from \"./MyPosts/MyPostsContainer\";\r\n\r\n\r\nconst ProfilePage = (props) => {\r\n    return (\r\n        <div>\r\n            <ProfileInfo profile={props.profile} status={props.status} updateStatus={props.updateStatus} />\r\n            <MyPostsContainer  />\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ProfilePage","import React from 'react';\r\nimport ProfilePage from \"./ProfilePage\";\r\nimport {connect} from \"react-redux\";\r\nimport {getStatus, getUserProfile, updateStatus} from \"../../redux/profile-reducer\";\r\nimport {useNavigate, useParams, useLocation, Navigate} from 'react-router-dom';\r\nimport withAuthRedirect from \"../../hoc/AuthRedirect\";\r\nimport {compose} from \"redux\";\r\n\r\nfunction withRouter(Component) {\r\n    return (props) => {\r\n        const navigate = useNavigate();\r\n        const params = useParams();\r\n        const location = useLocation();\r\n\r\n        return (\r\n            <Component\r\n                {...props}\r\n                navigate={navigate}\r\n                params={params}\r\n                location={location}\r\n            />\r\n        );\r\n    };\r\n}\r\n\r\n\r\nclass ProfilePageContainer extends React.Component {\r\n\r\n    componentDidMount() {\r\n        console.log(\"PARAMS\" ,this.props.params)\r\n        console.log(\"Authorized User ID:\", this.props.authorizedUserId);\r\n        let userId = this.props.params.userId || this.props.authorizedUserId\r\n        this.props.getUserProfile(userId)\r\n        this.props.getStatus(userId)\r\n    }\r\n\r\n    render() {\r\n\r\n        return (\r\n            <ProfilePage {...this.props} profile={this.props.profile} status={this.props.status}\r\n            updateStatus={this.props.updateStatus}/>\r\n        )\r\n    }\r\n}\r\n\r\nlet mapStateToProps = (state) => ({\r\n    profile: state.profilePage.profile,\r\n    status: state.profilePage.status,\r\n    authorizedUserId: state.auth.userId,\r\n    isAuthorized: state.auth.isAuthorized,\r\n})\r\n\r\nexport default compose(\r\n    connect(mapStateToProps, {getUserProfile, getStatus, updateStatus}),\r\n    withRouter,\r\n    withAuthRedirect\r\n)(ProfilePageContainer)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n"],"names":["props","editMode","setEditMode","useState","status","setStatus","useEffect","_jsx","children","onChange","e","currentTarget","value","onBlur","deactivateEditMode","updateStatus","autoFocus","onDoubleClick","activateEditMode","_ref","profile","_jsxs","_Fragment","className","classes","src","beachImg","alt","photos","large","userPhoto","Preloader","ProfileStatusWithHooks","image","message","likes","MyPostsForm","MyPostsStock","onAddPost","React","postsData","posts","reverse","map","Post","avatar","likesCount","text","updateNewPostText","addPost","connect","state","profilePage","p","newPostText","users","usersPage","dispatch","action","updateNewPostActionCreator","addPostActionCreator","MyPosts","ProfileInfo","MyPostsContainer","ProfilePageContainer","componentDidMount","console","log","this","params","authorizedUserId","userId","getUserProfile","getStatus","render","ProfilePage","compose","auth","isAuthorized","Component","navigate","useNavigate","useParams","location","useLocation","withAuthRedirect"],"sourceRoot":""}